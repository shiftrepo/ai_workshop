# Codebase Structure

## Directory Layout

```
library_system_with_serena/
├── .serena/                    # Serena configuration and memories
│   ├── memories/              # Onboarding and project information
│   ├── .gitignore
│   └── project.yml            # Serena project configuration
├── data/                      # Data storage
│   ├── cipher-sessions.db     # SQLite database
│   ├── cipher-sessions.db-shm # SQLite shared memory file
│   └── cipher-sessions.db-wal # SQLite write-ahead log
├── memAgent/                  # MCP agent configuration
│   └── cipher.yml.disabled    # Disabled configuration file
├── src/                       # TypeScript source code
│   └── index.ts              # Main entry point
├── dist/                      # Compiled JavaScript output (generated)
├── package.json               # Node.js project configuration
└── tsconfig.json              # TypeScript compiler configuration
```

## Source Code Organization (src/)

### Current Structure
- `index.ts` - Main entry point, application initialization

### Planned Structure (To Be Implemented)
```
src/
├── index.ts                   # Main entry point
├── models/                    # Data models and entities
│   ├── Book.ts
│   ├── User.ts
│   └── Loan.ts
├── services/                  # Business logic layer
│   ├── BookService.ts
│   ├── UserService.ts
│   └── LoanService.ts
├── repositories/              # Data access layer
│   ├── BookRepository.ts
│   ├── UserRepository.ts
│   └── LoanRepository.ts
├── utils/                     # Utility functions
│   └── database.ts
└── types/                     # Type definitions
    └── index.ts
```

## Key Files

### Configuration Files
- **package.json**: Defines project metadata, dependencies, and npm scripts
- **tsconfig.json**: TypeScript compiler configuration with strict mode
- **.serena/project.yml**: Serena project settings (language: typescript)

### Entry Point
- **src/index.ts**: Application entry point, currently just logs initialization message

## Build Output
- **dist/**: Contains compiled JavaScript files (generated by `npm run build`)
- Structure mirrors the `src/` directory
- Includes source maps and declaration files

## Data Files
- **data/cipher-sessions.db**: SQLite database for persistent storage
- Database structure to be defined based on requirements

## Ignored Directories
- `node_modules/`: NPM dependencies (not tracked in git)
- `dist/`: Build output (generated, not tracked in git)

## Development Workflow
1. Write TypeScript code in `src/`
2. Build with `npm run build` (outputs to `dist/`)
3. Run with `npm start` (production) or `npm run dev` (development)
